new_variable_name,definition,type,notes
has_afib_at_admission,"during_afib %in% 1 & during_afib_date==admission_date","Binary",
existing_afib,"medhist_afib %in% 1 | has_afib_at_admission %in% 1 | presenting_ekg_rhythm %in% 'Atrial fibrillation'","Binary",
existing_flutter,"medhist_flutter %in% 1 | presenting_ekg_rhythm %in% 'Atrial flutter'","Binary",
,,,
has_dvt_at_admission,"during_dvt %in% 1 & during_dvt_date==admission_date","Binary",
existing_dvt,"medhist_dvt %in% 1 | has_dvt_at_admission %in% 1","Binary",
,,,
has_pe_at_admission,"during_pe %in% 1 & during_pe_date==admission_date","Binary",
existing_pe,"medhist_pe %in% 1 | has_pe_at_admission","Binary",
,,,
existing_anticoag,"anticoag_prior %in% 1","Binary",
meets_exclusion_criteria,"existing_afib|existing_flutter|existing_dvt|existing_pe|existing_anticoag","Binary","Vector of true/false to identify excluded subjects"
,,,
lowdose_anticoag_dvt,"during_anticoag_dvt_type %in% c('Low Dose DOAC', 'Low Dose Enoxaperin')", "Binary",
fulldose_anticoag_dvt,"during_anticoag_dvt_type %in% c('Full Dose DOAC', 'Full Dose Enoxaperin')", "Binary",
any_lowdose_anticoag,"during_subq_lmwh_low %in% 1 | lowdose_anticoag_dvt %in% 1","Binary",
any_intdose_anticoag,"during_subq_lmwh_intermediate %in% 1","Binary",
any_fulldose_anticoag,"during_subq_lmwh_full %in% 1 | during_subq_uh %in% 1 | during_subq_paruh %in% 1 | fulldose_anticoag_dvt %in% 1","Binary",
,,,
lowdose_date1,"ifelse(lowdose_anticoag_dvt %in% 1, during_anticoag_dvt_date, NA)"
lowdose_date2,"during_subqlmwh_low_date",,
latest_lowdose_date,"max(lowdose_date1, lowdose_date2, na.rm = TRUE)",,
,,,
latest_intdose_date,"during_subq_lmwh_intermediate_date",,
,,,
fulldose_date1,"ifelse(during_subq_lmwh_full %in% 1, during_subq_lmwh_full_date, NA)",,
fulldose_date2,"ifelse(during_subq_uh %in% 1, during_subq_uh_date, NA)",,
fulldose_date3,"ifelse(during_subq_paruh %in% 1, during_subq_paruh_date, NA)",,
fulldose_date4,"ifelse(fulldose_anticoag_dvt %in% 1, during_anticoag_dvt_date, NA)",,
latest_fulldose_date,"max(fulldose_date1, fulldose_date2, fulldose_date3, fulldose_date4, na.rm = TRUE)",,





